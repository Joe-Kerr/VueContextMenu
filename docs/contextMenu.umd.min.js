(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["contextMenu"]=e():t["contextMenu"]=e()})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"96cf":function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n,r){var o=e&&e.prototype instanceof y?e:y,i=Object.create(o.prototype),a=new L(r||[]);return i._invoke=j(t,n,a),i}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}t.wrap=u;var f="suspendedStart",p="suspendedYield",l="executing",d="completed",h={};function y(){}function m(){}function v(){}var w={};w[i]=function(){return this};var g=Object.getPrototypeOf,x=g&&g(g($([])));x&&x!==n&&r.call(x,i)&&(w=x);var b=v.prototype=y.prototype=Object.create(w);function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){function e(n,o,i,a){var c=s(t[n],t,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"===typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,a)})}a(c.arg)}var n;function o(t,r){function o(){return new Promise(function(n,o){e(t,r,n,o)})}return n=n?n.then(o,o):o()}this._invoke=o}function j(t,e,n){var r=f;return function(o,i){if(r===l)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return M()}n.method=o,n.arg=i;while(1){var a=n.delegate;if(a){var c=S(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=l;var u=s(t,e,n);if("normal"===u.type){if(r=n.done?d:p,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=s(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function $(t){if(t){var n=t[i];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){while(++o<t.length)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:e,done:!0}}return m.prototype=b.constructor=v,v.constructor=m,v[c]=m.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c in t||(t[c]="GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},E(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o){var i=new _(u(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(b),b[c]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=$,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return c.type="throw",c.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:$(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),h}},t}(t.exports);try{regeneratorRuntime=r}catch(o){Function("r","regeneratorRuntime = r")(r)}},a34a:function(t,e,n){t.exports=n("96cf")},f6fd:function(t,e){(function(t){var e="currentScript",n=t.getElementsByTagName("script");e in t||Object.defineProperty(t,e,{get:function(){try{throw new Error}catch(r){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(r.stack)||[!1])[1];for(t in n)if(n[t].src==e||"interactive"==n[t].readyState)return n[t];return null}}})})(document)},fb15:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"getArrayElWIdxByIdFactory",function(){return _});var o={};n.r(o),n.d(o,"setPropVal",function(){return j}),n.d(o,"setProps",function(){return S}),n.d(o,"setArrayElPropsByIdFactory",function(){return P});var i,a={};(n.r(a),n.d(a,"passThruActionsFactory",function(){return $}),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=i[1]));function c(t={},e={}){const n={};for(const o in e){const r=e[o],i=t[o],a=r.type,c=typeof i,u=r.required,s=o in t;if("undefined"===typeof a)throw new Error("type property on default is missing");if(u&&!s)throw new Error("Config property '"+o+"' is required but not provided.");if(s&&null!==a&&c!==a)throw new Error("Config property '"+o+"' must be of type '"+a+"' but is of type '"+c+"'.");n[o]=s?i:r.default}const r=[];for(const o in t)o in e||r.push(o);return r.length>0&&console.warn("The following config property was / properties were provided for which no defaults exist: "+r.toString()),n}function u(t){return"$"===t[0]&&"_"===t[1]&&t.substring(2).indexOf("_")>-1}function s(t,e){for(const n in e){if(n in t)throw new Error("Tried to write property on component that already exists: "+n);if(!u(n))throw new Error("Private property names should be in the form of: $_namespace_propertyName. This is important especially for plugins in order to avoid name collisions. See also https://vuejs.org/v2/style-guide/#Private-property-names-essential");t[n]=e[n]}}function f(t,e){if("string"!==typeof e)throw new Error("'name' parameter must be of type string. Got: "+typeof e);if("object"!==typeof t||!("name"in t))throw new Error("'component' parameter must be an object with the property name.");t.name=e}function p(t,e,n){if("string"!==typeof e)throw new Error("namespace parameter must be of type string.");if("object"!==typeof n)throw new Error("module parameter must be of type object.");const r=["state","getters","mutations","actions","modules"];let o=0;if(r.forEach(t=>{n.hasOwnProperty(t)&&o++}),0===o)throw new Error("Vuex module is of unexpected structure. Expected to see at least one of: "+r.toString(","));if("undefined"===typeof t||"undefined"===typeof t.dispatch)throw new Error(`Plugin ${e} requires vuex instance as config parameter: Vue.use(${e}, {vuex: instanceOfVuex}).`);t.registerModule(e,n)}const l={configParser:c,isValidPrivateProperty:u,componentOptionsWriter:s,renameComponent:f,registerVuexModule:p};var d=[];function h(t,e,n){t.addEventListener("mouseup",e),n.push({id:t,listener:e})}function y(t,e,n){t.removeEventListener("mouseup",n[e].listener),n.splice(e,1)}function m(t,e,n,r,o,i){n.which===i&&o.dispatch(r+"/open",{menu:t,context:e,event:n})}function v(t,e){return function(n,r){var o=r.value,i=3,a=1,c="undefined"===typeof r.modifiers?i:"undefined"!==typeof r.modifiers.left?a:i;function u(n){m(o.menu,o.context,n,e,t,c)}h(n,u,d)}}function w(t,e){for(var n=!1,r=0,o=d.length;r<o;r++)if(d[r].id==t){y(t,r,d),n=!0;break}if(!n)throw new Error("Failed to remove event listener in unbind hook.")}function g(t,e,n){t.directive("contextmenu",{inserted:v(e,n),unbind:w})}var x=n("a34a"),b=n.n(x);function E(t,e,n){return r=>{const o=e[r];return"number"!==typeof o?n:t[o]}}const _=function(t={}){const e=t.container||"container",n=t.index||"index",r="noResult"in t?t.noResult:null;return function(t){if("object"!==typeof t[n])throw new Error("Name of index does not point to an object in state: "+n);if("object"!==typeof t[e])throw new Error("Name of container does not point to an object in state: "+e);return E(t[e],t[n],r)}},j=function(t,e){if("undefined"===typeof e||!("prop"in e)||!("val"in e))throw new Error("Missing property on data parameter: provide 'prop' and 'val'.");if(!(e.prop in t))throw new Error("Tried to set non-existing property: "+e.prop);t[e.prop]=e.val},S=function(t,e){const n=[];for(const r in e)r in t?t[r]=e[r]:n.push(r);if(n.length>0)throw new Error("Tried to set at least one non-existing property: "+n.join(","))};function O(t,e,n){const r=n.id;if("undefined"===typeof r)throw new Error("Missing id on data parameter.");const o=e[r];if("undefined"===typeof o)throw new Error("Id not found in index while setting prop/s on element: "+JSON.stringify(n));const i=t[o],a=[];delete n.id;for(const c in n)c in i?i[c]=n[c]:a.push(c);if(a.length>0)throw new Error("Tried to set at least one non-existing property: "+a.toString(","))}const P=function(t={}){const e=t.container||"container",n=t.index||"index";return function(t,r){if("object"!==typeof t[n])throw new Error("Name of index does not point to an object in state: "+n);if("object"!==typeof t[e])throw new Error("Name of container does not point to an object in state: "+e);O(t[e],t[n],r)}};function L(t,e,n){e.commit(t,n)}const $=function(t){if("string"===typeof t)return function(e,n){L(t,e,n)};if(t instanceof Array){const e={};return t.forEach(t=>{if("string"!==typeof t)throw new Error("Expected element of array to be of type string. Got: "+typeof t);e[t]=function(e,n){L(t,e,n)}}),e}if("object"===typeof t){for(const e in t){const n=e,r=t[e];t[n]=function(t,e){L(r,t,e)}}return t}throw new Error("Expected parameter to be of type string, object or array. Got: "+typeof t)},M=o;function N(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(s){return void n(s)}c.done?e(u):Promise.resolve(u).then(r,o)}function T(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(t){N(i,r,o,a,c,"next",t)}function c(t){N(i,r,o,a,c,"throw",t)}a(void 0)})}}var k={namespaced:!0,state:{active:null,context:null,x:0,y:0},getters:{active:function(t){return t.active},context:function(t){return t.context},position:function(t){return{x:t.x,y:t.y}}},mutations:{set:M.setProps},actions:{open:function(){var t=T(b.a.mark(function t(e,n){return b.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if("undefined"!==typeof n&&"undefined"!==typeof n.menu){t.next=2;break}throw new Error("'menu' missing on data parameter.");case 2:if("undefined"!==typeof n.event&&"number"===typeof n.event.pageX&&"number"===typeof n.event.pageY){t.next=4;break}throw new Error("Failed to provide event (properly). Did you call dispatch('open') directly? Use v-contextmenu instead or put the click event on the data parameter.");case 4:return e.commit("set",{active:n.menu,context:n.context,x:n.event.pageX,y:n.event.pageY}),t.abrupt("return",!0);case 6:case"end":return t.stop()}},t)}));function e(e,n){return t.apply(this,arguments)}return e}(),close:function(){var t=T(b.a.mark(function t(e){return b.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.commit("set",{active:null,context:null,x:0,y:0}),t.abrupt("return",!0);case 2:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}},C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.active?n("div",{ref:"contextMenu",style:{position:"absolute",left:t.x+"px",top:t.y+"px",backgroundColor:"white"}},[t._t("default",null,{close:t.closeByChild,onResize:t.preventOutOfBounds,context:t.context})],2):t._e()},F=[],B={props:["menu"],name:"context-menu",computed:{active:function(){var t=this.namespace+"/active";return this.$store.getters[t]===this.menu},context:function(){var t=this.namespace+"/context";return this.$store.getters[t]},rawPosition:function(){var t=this.namespace+"/position";return this.$store.getters[t]}},data:function(){return{namespace:"contextMenu",x:0,y:0}},methods:{closeByModal:function(){var t=this.namespace+"/close";this.$store.dispatch(t)},closeByChild:function(){var t=this.closeByModal;t(),this.modalStop()},modalStart:function(){var t=this,e=this.$options.$_contextMenus_modal;null!==e&&e.start(this.$refs.contextMenu,function(){t.closeByModal()},{stopPropagation:!0})},modalStop:function(){var t=this.$options.$_contextMenus_modal;null!==t&&t.stop()},preventOutOfBounds:function(){var t=this.rawPosition,e=t.x,n=t.y,r=this.$refs.contextMenu,o=r.offsetHeight,i=r.offsetWidth,a=window.pageXOffset,c=window.pageYOffset;n+o>c+window.innerHeight&&(n-=o,n<c&&(n=c)),e+i>a+window.innerWidth&&(e-=i,e<a&&(e=a)),this.x=e,this.y=n}},updated:function(){this.active&&(this.modalStart(),this.preventOutOfBounds())},created:function(){if("undefined"!==typeof this.$options.$_contextMenus_namespace&&(this.namespace=this.$options.$_contextMenus_namespace),"undefined"===typeof this.menu||""===this.menu)throw new Error("'menu' property not set or empty on context menu component.")}},G=B;function I(t,e,n,r,o,i,a,c){var u,s="function"===typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),i&&(s._scopeId="data-v-"+i),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=u):o&&(u=c?function(){o.call(this,this.$root.$options.shadowRoot)}:o),u)if(s.functional){s._injectStyles=u;var f=s.render;s.render=function(t,e){return u.call(e),f(t,e)}}else{var p=s.beforeCreate;s.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:s}}var R=I(G,C,F,!1,null,null,null),V=R.exports;function A(t){return A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}var W=V;function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={namespace:{type:"string",default:"contextMenu"},componentName:{type:"string",default:""},globalInstall:{type:"boolean",default:!0},modalService:{type:null,default:null},vuex:{type:null}},n=l.configParser(t,e),r=n.modalService;if(null!==r&&("object"!==A(r)||"undefined"===typeof r.start||"function"!==typeof r.start||"undefined"===typeof r.stop||"function"!==typeof r.stop))throw new Error("Config parameter 'modalService' was provided but did not meet interface requirements. Provide: modalService<obj>: {start<func>, stop<func>}");return n}function Y(t,e,n){""!==n.componentName&&l.renameComponent(t,n.componentName),l.componentOptionsWriter(t,{$_contextMenus_namespace:n.namespace,$_contextMenus_modal:n.modalService}),n.globalInstall&&e.component(t.name,t)}var q={install:function(t,e){var n=e.vuex,r=X(e),o=r.namespace;l.registerVuexModule(n,o,k),g(t,n,o),Y(V,t,r)}},U=q;n.d(e,"component",function(){return W}),n.d(e,"installer",function(){return q});e["default"]=U}})});